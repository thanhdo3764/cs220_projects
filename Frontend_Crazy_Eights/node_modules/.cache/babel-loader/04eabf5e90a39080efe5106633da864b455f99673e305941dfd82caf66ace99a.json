{"ast":null,"code":"\"use strict\";\n\nvar _jsxFileName = \"/Users/thanhdo/WSU/CS224/CS-220-Project1/Frontend_Crazy_Eights/src/index.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst react_1 = __importStar(require(\"react\"));\nconst client_1 = require(\"react-dom/client\");\nvar Rank;\n(function (Rank) {\n  Rank[Rank[\"Ace\"] = 1] = \"Ace\";\n  Rank[Rank[\"Two\"] = 2] = \"Two\";\n  Rank[Rank[\"Three\"] = 3] = \"Three\";\n  Rank[Rank[\"Four\"] = 4] = \"Four\";\n  Rank[Rank[\"Five\"] = 5] = \"Five\";\n  Rank[Rank[\"Six\"] = 6] = \"Six\";\n  Rank[Rank[\"Seven\"] = 7] = \"Seven\";\n  Rank[Rank[\"Eight\"] = 8] = \"Eight\";\n  Rank[Rank[\"Nine\"] = 9] = \"Nine\";\n  Rank[Rank[\"Ten\"] = 10] = \"Ten\";\n  Rank[Rank[\"Jack\"] = 11] = \"Jack\";\n  Rank[Rank[\"Queen\"] = 13] = \"Queen\";\n  Rank[Rank[\"King\"] = 14] = \"King\";\n})(Rank || (Rank = {}));\nvar Suit;\n(function (Suit) {\n  Suit[Suit[\"Spades\"] = 160] = \"Spades\";\n  Suit[Suit[\"Clubs\"] = 208] = \"Clubs\";\n  Suit[Suit[\"Diamonds\"] = 192] = \"Diamonds\";\n  Suit[Suit[\"Hearts\"] = 176] = \"Hearts\";\n})(Suit || (Suit = {}));\nclass Card {\n  constructor(cardIndex) {\n    this.cardString = \"\";\n    // Calculate the rank and suit of the card\n    this.suit = cardIndex & 0x000F0;\n    this.rank = cardIndex & 0x0000F;\n    // Convert card into a string\n    this.cardString = String.fromCodePoint(0x1F000 | this.suit | this.rank);\n  }\n  renderCard() {\n    let cardColor;\n    this.suit === Suit.Diamonds || this.suit === Suit.Hearts ? cardColor = \"red\" : cardColor = \"black\";\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: cardColor,\n        display: 'inline-block',\n        margin: 'auto'\n      },\n      children: this.cardString\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }, this);\n  }\n}\nclass Player {\n  constructor(name) {\n    this.name = \"\";\n    this.hand = [];\n    this.handIndex = 0;\n    this.name = name;\n  }\n  /**\n   * Sets the handIndex to a playable card depending on the given\n   * rank and suit and returns true or false otherwise\n   */\n  hasPlayableCard(rank, suit) {\n    // Loops through the hand to find a playable card\n    for (let i = 0; i < this.hand.length; i++) {\n      if (this.hand[i].suit === suit || this.hand[i].rank === rank || this.hand[i].rank === Rank.Eight) {\n        this.handIndex = i;\n        return true;\n      }\n    }\n    return false;\n  }\n  /**\n   * Remove and return the card at handIndex depending on the,\n   * rank and suit, otherwise, return undefined.\n   */\n  playCard(rank, suit) {\n    let cardInHand = this.hand[this.handIndex];\n    // If the card has the same suit, rank, or is an eight, play card.\n    if (cardInHand.suit === suit || cardInHand.rank === rank || cardInHand.rank === Rank.Eight) {\n      let removedCard = this.hand.splice(this.handIndex, 1);\n      this.handIndex = 0;\n      return removedCard[0];\n    }\n    return undefined;\n  }\n  /**\n   * Add a card to hand, and set the handIndex to this card\n   */\n  add(card) {\n    this.hand.push(card);\n    this.handIndex = this.hand.length - 1;\n  }\n  /**\n   * Cycles to the next card in hand\n   */\n  cycleCard() {\n    this.handIndex = ++this.handIndex % this.hand.length;\n  }\n  /**\n   * Check if the participant has an empty hand\n   */\n  hasWon() {\n    return this.hand.length == 0;\n  }\n}\nclass GameState {\n  constructor() {\n    this.cardInHand = new Card(0x1F0A1);\n    this.playerCards = [];\n    this.topCard = new Card(0x1F0A1);\n    this.changingSuit = false;\n    this.whoseTurn = 0;\n    this.winner = \"none\";\n  }\n}\nclass Game extends react_1.Component {\n  constructor(props) {\n    super(props);\n    this.stock = [];\n    this.pile = [];\n    this.player = new Player(\"Player\");\n    this.participants = [];\n    /**\n     * Helper function to add delay between bot turns\n     */\n    this.delay = ms => {\n      return new Promise(resolve => setTimeout(resolve, ms));\n    };\n    this.participants.push(this.player);\n    this.participants.push(new Player(\"Bot 1\"));\n    this.participants.push(new Player(\"Bot 2\"));\n    this.participants.push(new Player(\"Bot 3\"));\n    // Initialize gameDeck with all 52 cards\n    for (let suit = 0xA0; suit <= 0xD0; suit += 0x10) {\n      for (let rank = 0x01; rank <= 0x0E; rank += 0x01) {\n        if (rank === 0x0C) continue;\n        this.stock.push(new Card(0x1F000 | suit | rank));\n      }\n    }\n    this.shuffleStock();\n    // Deal 5 cards to all participants\n    for (let i = 0; i < 5; i++) {\n      for (let p of this.participants) {\n        p.add(this.dealCard());\n      }\n    }\n    // Place a starter card\n    let starter;\n    while (true) {\n      starter = this.stock.pop();\n      this.pile.push(starter);\n      if (starter.rank !== Rank.Eight) break;\n    }\n    // Set state\n    let newState = new GameState();\n    newState.cardInHand = this.player.hand[this.player.handIndex];\n    newState.topCard = starter;\n    newState.playerCards = this.player.hand;\n    this.state = newState;\n  }\n  /**\n   * Renders html whenever this.state changes\n   */\n  render() {\n    // Render for topCard\n    let tc;\n    if (this.state.winner === \"none\") {\n      tc = this.state.topCard.renderCard();\n    } else {\n      tc = this.state.winner;\n    }\n    // Render for playerCards\n    let s = [];\n    for (let card of this.state.playerCards) {\n      s.push(card.renderCard());\n    }\n    //Render for cardInHand\n    let renderCardInHand;\n    if (!!this.state.cardInHand) renderCardInHand = this.state.cardInHand.renderCard();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Crazy Eights\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"topCard\",\n        children: tc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playerCards\",\n        children: renderCardInHand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playerCards\",\n        children: s\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'block',\n          margin: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          className: \"button\",\n          value: \"Play Card\",\n          disabled: !!this.state.whoseTurn || this.state.winner !== \"none\",\n          onClick: () => this.onClickPlay()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          className: \"button\",\n          value: \"Cycle Card\",\n          disabled: !!this.state.whoseTurn || this.state.winner !== \"none\",\n          onClick: () => this.onClickCycle()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          className: \"button\",\n          value: \"Draw Card\",\n          disabled: !!this.state.whoseTurn || this.state.winner !== \"none\",\n          onClick: () => this.onClickDraw()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'block',\n          margin: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          className: \"suitButton\",\n          id: \"s\",\n          value: \"\\u2660\",\n          disabled: !this.state.changingSuit,\n          onClick: () => {\n            this.switchSuit('s');\n            this.botTurn();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          className: \"suitButton\",\n          id: \"c\",\n          value: \"\\u2663\",\n          disabled: !this.state.changingSuit,\n          onClick: () => {\n            this.switchSuit('c');\n            this.botTurn();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          className: \"suitButton\",\n          id: \"d\",\n          value: \"\\u2666\",\n          disabled: !this.state.changingSuit,\n          onClick: () => {\n            this.switchSuit('d');\n            this.botTurn();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          className: \"suitButton\",\n          id: \"h\",\n          value: \"\\u2665\",\n          disabled: !this.state.changingSuit,\n          onClick: () => {\n            this.switchSuit('h');\n            this.botTurn();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 16\n    }, this);\n  }\n  /**\n   * Shuffles the cards in stock\n   */\n  shuffleStock() {\n    for (let i = 0; i < 51; i++) {\n      let firstCardIndex = Math.floor(Math.random() * this.stock.length);\n      let secondCardIndex = Math.floor(Math.random() * this.stock.length);\n      let temp = this.stock[firstCardIndex];\n      this.stock[firstCardIndex] = this.stock[secondCardIndex];\n      this.stock[secondCardIndex] = temp;\n    }\n  }\n  /**\n   * Returns the top card from the stock. If stock was empty, take all\n   * but the top card from the pile and shuffle it into the stock\n   */\n  dealCard() {\n    if (this.stock.length === 0) {\n      this.stock = this.pile.splice(0, this.pile.length - 1);\n      this.shuffleStock();\n    }\n    return this.stock.pop();\n  }\n  /**\n   * Take a command to return a card with that suit.\n   * To be used when an Eight is played.\n   */\n  switchSuit(suitCmd) {\n    let card = new Card(0x1F000);\n    switch (suitCmd) {\n      case 0:\n      case 's':\n        card.suit = Suit.Spades;\n        card.cardString = '♠';\n        break;\n      case 1:\n      case 'c':\n        card.suit = Suit.Clubs;\n        card.cardString = '♣';\n        break;\n      case 2:\n      case 'd':\n        card.suit = Suit.Diamonds;\n        card.cardString = '♦';\n        break;\n      case 3:\n      case 'h':\n        card.suit = Suit.Hearts;\n        card.cardString = '♥';\n        break;\n    }\n    this.setState(() => ({\n      topCard: card,\n      changingSuit: false\n    }));\n  }\n  /**\n   * Handles when the player clicks the \"play card\" button\n   */\n  onClickPlay() {\n    return __awaiter(this, void 0, void 0, function* () {\n      let cardInQuestion = this.player.playCard(this.state.topCard.rank, this.state.topCard.suit);\n      if (cardInQuestion === undefined) {\n        return;\n      }\n      this.pile.push(cardInQuestion);\n      this.setState(() => ({\n        cardInHand: this.player.hand[this.player.handIndex],\n        topCard: cardInQuestion,\n        playerCards: this.player.hand,\n        whoseTurn: 1\n      }));\n      if (this.player.hasWon()) {\n        this.setState(() => {\n          winner: \"Player Won\";\n        });\n        return;\n      }\n      // Ask for suit if player played an Eight\n      if (cardInQuestion.rank === Rank.Eight) {\n        this.setState(() => ({\n          changingSuit: true\n        }));\n      } else this.botTurn();\n    });\n  }\n  /**\n   * Simulates a bot's turn after the player's turn or another bot's turn\n   */\n  botTurn() {\n    return __awaiter(this, void 0, void 0, function* () {\n      yield this.delay(1000);\n      const bot = this.participants[this.state.whoseTurn];\n      // Bot draws cards until it's playable\n      while (!bot.hasPlayableCard(this.state.topCard.rank, this.state.topCard.suit)) bot.add(this.dealCard());\n      const cardInQuestion = bot.playCard(this.state.topCard.rank, this.state.topCard.suit);\n      this.pile.push(cardInQuestion);\n      // Finishes bots turn after setting state\n      const afterBotTurn = () => {\n        // If Bot played an Eight, choose a random suit\n        if (bot.hasWon()) {\n          this.setState(() => ({\n            winner: \"Bot \" + (this.state.whoseTurn - 1) + \" Won\"\n          }));\n          return;\n        }\n        if (cardInQuestion.rank === Rank.Eight) this.switchSuit(Math.floor(Math.random() * 4));\n        if (!!this.state.whoseTurn) {\n          this.botTurn();\n        }\n      };\n      this.setState(() => ({\n        whoseTurn: (this.state.whoseTurn + 1) % 4,\n        topCard: cardInQuestion\n      }), afterBotTurn);\n    });\n  }\n  /**\n   * Handles when \"Cycle Card\" button is clicked by\n   * cycling to the next card in Player's hand\n   */\n  onClickCycle() {\n    this.player.cycleCard();\n    this.setState(() => ({\n      cardInHand: this.player.hand[this.player.handIndex]\n    }));\n  }\n  /**\n   * Handles when \"Draw Card\" button is clicked and draws a card from stock\n   */\n  onClickDraw() {\n    this.player.add(this.dealCard());\n    this.setState(() => ({\n      cardInHand: this.player.hand[this.player.handIndex],\n      playerCards: this.player.hand\n    }));\n  }\n}\nconst rootElem = document.getElementById('root');\nif (rootElem == null) {\n  alert('you forgot to put a root element in your HTML file.');\n}\nconst root = (0, client_1.createRoot)(rootElem);\nroot.render( /*#__PURE__*/_jsxDEV(react_1.StrictMode, {\n  children: /*#__PURE__*/_jsxDEV(Game, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 370,\n  columnNumber: 13\n}, this));","map":{"version":3,"names":["_jsxFileName","jsxDEV","_jsxDEV","__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","done","then","apply","exports","react_1","require","client_1","Rank","Suit","Card","constructor","cardIndex","cardString","suit","rank","String","fromCodePoint","renderCard","cardColor","Diamonds","Hearts","style","color","display","margin","children","fileName","lineNumber","columnNumber","Player","name","hand","handIndex","hasPlayableCard","i","length","Eight","playCard","cardInHand","removedCard","splice","add","card","push","cycleCard","hasWon","GameState","playerCards","topCard","changingSuit","whoseTurn","winner","Game","Component","props","stock","pile","player","participants","delay","ms","setTimeout","shuffleStock","p","dealCard","starter","pop","newState","state","render","tc","s","renderCardInHand","className","type","disabled","onClick","onClickPlay","onClickCycle","onClickDraw","id","switchSuit","botTurn","firstCardIndex","Math","floor","random","secondCardIndex","temp","suitCmd","Spades","Clubs","setState","cardInQuestion","bot","afterBotTurn","rootElem","document","getElementById","alert","root","createRoot","StrictMode"],"sources":["/Users/thanhdo/WSU/CS224/CS-220-Project1/Frontend_Crazy_Eights/src/index.jsx"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importStar(require(\"react\"));\nconst client_1 = require(\"react-dom/client\");\nvar Rank;\n(function (Rank) {\n    Rank[Rank[\"Ace\"] = 1] = \"Ace\";\n    Rank[Rank[\"Two\"] = 2] = \"Two\";\n    Rank[Rank[\"Three\"] = 3] = \"Three\";\n    Rank[Rank[\"Four\"] = 4] = \"Four\";\n    Rank[Rank[\"Five\"] = 5] = \"Five\";\n    Rank[Rank[\"Six\"] = 6] = \"Six\";\n    Rank[Rank[\"Seven\"] = 7] = \"Seven\";\n    Rank[Rank[\"Eight\"] = 8] = \"Eight\";\n    Rank[Rank[\"Nine\"] = 9] = \"Nine\";\n    Rank[Rank[\"Ten\"] = 10] = \"Ten\";\n    Rank[Rank[\"Jack\"] = 11] = \"Jack\";\n    Rank[Rank[\"Queen\"] = 13] = \"Queen\";\n    Rank[Rank[\"King\"] = 14] = \"King\";\n})(Rank || (Rank = {}));\nvar Suit;\n(function (Suit) {\n    Suit[Suit[\"Spades\"] = 160] = \"Spades\";\n    Suit[Suit[\"Clubs\"] = 208] = \"Clubs\";\n    Suit[Suit[\"Diamonds\"] = 192] = \"Diamonds\";\n    Suit[Suit[\"Hearts\"] = 176] = \"Hearts\";\n})(Suit || (Suit = {}));\nclass Card {\n    constructor(cardIndex) {\n        this.cardString = \"\";\n        // Calculate the rank and suit of the card\n        this.suit = cardIndex & 0x000F0;\n        this.rank = cardIndex & 0x0000F;\n        // Convert card into a string\n        this.cardString = String.fromCodePoint(0x1F000 | this.suit | this.rank);\n    }\n    renderCard() {\n        let cardColor;\n        (this.suit === Suit.Diamonds || this.suit === Suit.Hearts) ? cardColor = \"red\" : cardColor = \"black\";\n        return <span style={{ color: cardColor, display: 'inline-block', margin: 'auto' }}>{this.cardString}</span>;\n    }\n}\nclass Player {\n    constructor(name) {\n        this.name = \"\";\n        this.hand = [];\n        this.handIndex = 0;\n        this.name = name;\n    }\n    /**\n     * Sets the handIndex to a playable card depending on the given\n     * rank and suit and returns true or false otherwise\n     */\n    hasPlayableCard(rank, suit) {\n        // Loops through the hand to find a playable card\n        for (let i = 0; i < this.hand.length; i++) {\n            if (this.hand[i].suit === suit || this.hand[i].rank === rank || this.hand[i].rank === Rank.Eight) {\n                this.handIndex = i;\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Remove and return the card at handIndex depending on the,\n     * rank and suit, otherwise, return undefined.\n     */\n    playCard(rank, suit) {\n        let cardInHand = this.hand[this.handIndex];\n        // If the card has the same suit, rank, or is an eight, play card.\n        if (cardInHand.suit === suit || cardInHand.rank === rank || cardInHand.rank === Rank.Eight) {\n            let removedCard = this.hand.splice(this.handIndex, 1);\n            this.handIndex = 0;\n            return removedCard[0];\n        }\n        return undefined;\n    }\n    /**\n     * Add a card to hand, and set the handIndex to this card\n     */\n    add(card) {\n        this.hand.push(card);\n        this.handIndex = this.hand.length - 1;\n    }\n    /**\n     * Cycles to the next card in hand\n     */\n    cycleCard() {\n        this.handIndex = ++this.handIndex % this.hand.length;\n    }\n    /**\n     * Check if the participant has an empty hand\n     */\n    hasWon() {\n        return this.hand.length == 0;\n    }\n}\nclass GameState {\n    constructor() {\n        this.cardInHand = new Card(0x1F0A1);\n        this.playerCards = [];\n        this.topCard = new Card(0x1F0A1);\n        this.changingSuit = false;\n        this.whoseTurn = 0;\n        this.winner = \"none\";\n    }\n}\nclass Game extends react_1.Component {\n    constructor(props) {\n        super(props);\n        this.stock = [];\n        this.pile = [];\n        this.player = new Player(\"Player\");\n        this.participants = [];\n        /**\n         * Helper function to add delay between bot turns\n         */\n        this.delay = (ms) => {\n            return new Promise(resolve => setTimeout(resolve, ms));\n        };\n        this.participants.push(this.player);\n        this.participants.push(new Player(\"Bot 1\"));\n        this.participants.push(new Player(\"Bot 2\"));\n        this.participants.push(new Player(\"Bot 3\"));\n        // Initialize gameDeck with all 52 cards\n        for (let suit = 0xA0; suit <= 0xD0; suit += 0x10) {\n            for (let rank = 0x01; rank <= 0x0E; rank += 0x01) {\n                if (rank === 0x0C)\n                    continue;\n                this.stock.push(new Card(0x1F000 | suit | rank));\n            }\n        }\n        this.shuffleStock();\n        // Deal 5 cards to all participants\n        for (let i = 0; i < 5; i++) {\n            for (let p of this.participants) {\n                p.add(this.dealCard());\n            }\n        }\n        // Place a starter card\n        let starter;\n        while (true) {\n            starter = this.stock.pop();\n            this.pile.push(starter);\n            if (starter.rank !== Rank.Eight)\n                break;\n        }\n        // Set state\n        let newState = new GameState();\n        newState.cardInHand = this.player.hand[this.player.handIndex];\n        newState.topCard = starter;\n        newState.playerCards = this.player.hand;\n        this.state = newState;\n    }\n    /**\n     * Renders html whenever this.state changes\n     */\n    render() {\n        // Render for topCard\n        let tc;\n        if (this.state.winner === \"none\") {\n            tc = this.state.topCard.renderCard();\n        }\n        else {\n            tc = this.state.winner;\n        }\n        // Render for playerCards\n        let s = [];\n        for (let card of this.state.playerCards) {\n            s.push(card.renderCard());\n        }\n        //Render for cardInHand\n        let renderCardInHand;\n        if (!!this.state.cardInHand)\n            renderCardInHand = this.state.cardInHand.renderCard();\n        return <div style={{ display: 'grid' }}>\n            <h1>Crazy Eights</h1>\n            <div className=\"topCard\">\n\t            {tc}\n        \t</div>\n        \t<div className=\"playerCards\">\n\t            {renderCardInHand}\n            </div>\n            <div className=\"playerCards\">\n            \t{s}\n            </div>\n            <div style={{ display: 'block', margin: 'auto' }}>\n            <input type=\"button\" className=\"button\" value=\"Play Card\" disabled={!!this.state.whoseTurn || this.state.winner !== \"none\"} onClick={() => this.onClickPlay()}/>\n            <input type=\"button\" className=\"button\" value=\"Cycle Card\" disabled={!!this.state.whoseTurn || this.state.winner !== \"none\"} onClick={() => this.onClickCycle()}/>\n            <input type=\"button\" className=\"button\" value=\"Draw Card\" disabled={!!this.state.whoseTurn || this.state.winner !== \"none\"} onClick={() => this.onClickDraw()}/>\n            </div>\n            <div style={{ display: 'block', margin: 'auto' }}>\n                <input type=\"button\" className=\"suitButton\" id=\"s\" value=\"♠\" disabled={!this.state.changingSuit} onClick={() => { this.switchSuit('s'); this.botTurn(); }}/>\n                <input type=\"button\" className=\"suitButton\" id=\"c\" value=\"♣\" disabled={!this.state.changingSuit} onClick={() => { this.switchSuit('c'); this.botTurn(); }}/>\n                <input type=\"button\" className=\"suitButton\" id=\"d\" value=\"♦\" disabled={!this.state.changingSuit} onClick={() => { this.switchSuit('d'); this.botTurn(); }}/>\n                <input type=\"button\" className=\"suitButton\" id=\"h\" value=\"♥\" disabled={!this.state.changingSuit} onClick={() => { this.switchSuit('h'); this.botTurn(); }}/>\n\t\t\t</div>\n\t\t\t</div>;\n    }\n    /**\n     * Shuffles the cards in stock\n     */\n    shuffleStock() {\n        for (let i = 0; i < 51; i++) {\n            let firstCardIndex = Math.floor(Math.random() * this.stock.length);\n            let secondCardIndex = Math.floor(Math.random() * this.stock.length);\n            let temp = this.stock[firstCardIndex];\n            this.stock[firstCardIndex] = this.stock[secondCardIndex];\n            this.stock[secondCardIndex] = temp;\n        }\n    }\n    /**\n     * Returns the top card from the stock. If stock was empty, take all\n     * but the top card from the pile and shuffle it into the stock\n     */\n    dealCard() {\n        if (this.stock.length === 0) {\n            this.stock = this.pile.splice(0, this.pile.length - 1);\n            this.shuffleStock();\n        }\n        return this.stock.pop();\n    }\n    /**\n     * Take a command to return a card with that suit.\n     * To be used when an Eight is played.\n     */\n    switchSuit(suitCmd) {\n        let card = new Card(0x1F000);\n        switch (suitCmd) {\n            case (0):\n            case ('s'):\n                card.suit = Suit.Spades;\n                card.cardString = '♠';\n                break;\n            case (1):\n            case ('c'):\n                card.suit = Suit.Clubs;\n                card.cardString = '♣';\n                break;\n            case (2):\n            case ('d'):\n                card.suit = Suit.Diamonds;\n                card.cardString = '♦';\n                break;\n            case (3):\n            case ('h'):\n                card.suit = Suit.Hearts;\n                card.cardString = '♥';\n                break;\n        }\n        this.setState(() => ({ topCard: card, changingSuit: false }));\n    }\n    /**\n     * Handles when the player clicks the \"play card\" button\n     */\n    onClickPlay() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let cardInQuestion = this.player.playCard(this.state.topCard.rank, this.state.topCard.suit);\n            if (cardInQuestion === undefined) {\n                return;\n            }\n            this.pile.push(cardInQuestion);\n            this.setState(() => ({\n                cardInHand: this.player.hand[this.player.handIndex],\n                topCard: cardInQuestion,\n                playerCards: this.player.hand,\n                whoseTurn: 1,\n            }));\n            if (this.player.hasWon()) {\n                this.setState(() => { winner: \"Player Won\"; });\n                return;\n            }\n            // Ask for suit if player played an Eight\n            if (cardInQuestion.rank === Rank.Eight) {\n                this.setState(() => ({ changingSuit: true }));\n            }\n            else\n                this.botTurn();\n        });\n    }\n    /**\n     * Simulates a bot's turn after the player's turn or another bot's turn\n     */\n    botTurn() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.delay(1000);\n            const bot = this.participants[this.state.whoseTurn];\n            // Bot draws cards until it's playable\n            while (!bot.hasPlayableCard(this.state.topCard.rank, this.state.topCard.suit))\n                bot.add(this.dealCard());\n            const cardInQuestion = bot.playCard(this.state.topCard.rank, this.state.topCard.suit);\n            this.pile.push(cardInQuestion);\n            // Finishes bots turn after setting state\n            const afterBotTurn = () => {\n                // If Bot played an Eight, choose a random suit\n                if (bot.hasWon()) {\n                    this.setState(() => ({ winner: (\"Bot \" + (this.state.whoseTurn - 1) + \" Won\") }));\n                    return;\n                }\n                if (cardInQuestion.rank === Rank.Eight)\n                    this.switchSuit(Math.floor(Math.random() * 4));\n                if (!!this.state.whoseTurn) {\n                    this.botTurn();\n                }\n            };\n            this.setState(() => ({\n                whoseTurn: (this.state.whoseTurn + 1) % 4,\n                topCard: cardInQuestion,\n            }), afterBotTurn);\n        });\n    }\n    /**\n     * Handles when \"Cycle Card\" button is clicked by\n     * cycling to the next card in Player's hand\n     */\n    onClickCycle() {\n        this.player.cycleCard();\n        this.setState(() => ({\n            cardInHand: this.player.hand[this.player.handIndex],\n        }));\n    }\n    /**\n     * Handles when \"Draw Card\" button is clicked and draws a card from stock\n     */\n    onClickDraw() {\n        this.player.add(this.dealCard());\n        this.setState(() => ({\n            cardInHand: this.player.hand[this.player.handIndex],\n            playerCards: this.player.hand,\n        }));\n    }\n}\nconst rootElem = document.getElementById('root');\nif (rootElem == null) {\n    alert('you forgot to put a root element in your HTML file.');\n}\nconst root = (0, client_1.createRoot)(rootElem);\nroot.render(<react_1.StrictMode>\n        <Game />\n    </react_1.StrictMode>);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}